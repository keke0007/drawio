# 第八节：Python面向对象编程

讲师：肖斌

## 一、类和对象

面向对象是一种抽象化的编程思想，很多编程语言中都有的一种思想。 **一切皆对象**

类：是对一系列具有相同 特征 和 行为 的事物的统称。

对象：对象是基于类创建出来的真实存在的事物。

### 1、定义类

```
class 类名():
    属性1
    属性2
    属性3

    函数1
    函数2

    ......
```

**注意：类名要满足标识符命名规则，同时遵循：大驼峰命名习惯**

### 2、创建对象

```
对象名（变量） = 类名()
```

**创建对象的过程也叫实例化对象**。

### 3、self是什么意思？

self：指的是当前的对象。

### 4、访问对象的属性和函数

1. 类外面访问

   ```
   对象名.属性名字
   对象名.函数名字
   ```
2. 类里面访问

   ```
   self.属性名字
   self.函数名字
   ```

## 二、魔术函数

**在Python中，**`__xx__()`的函数叫做魔法方法，指的是具有特殊功能 或者 有特殊含义的函数。而且这些函数都是在某种情况下自动调用的。

### 1、init函数

```
__init__(): 对象的初始化函数

__init__()，在创建一个对象时默认被调用，不需要手动调用

__init__(self)中的self参数，不需要开发者传递，python解释器会自动把当前的对象引用传递过去。
```

### 2、str函数

**当使用print输出对象的时候，默认打印对象的内存地址。如果类定义了** `__str__`方法，那么就会打印从在这个函数中 return 的数据。

### 3、del函数

**当删除对象时，python解释器也会默认调用** `__del__()`函数。

## 三、类属性和实例属性

* 类属性：就是 **类** 所拥有的属性，它被 **该类的所有实例对象 所共有**。
* 实例属性：就是 单个对象 或者 实例才能拥有的属性。

### 1、类属性

* 记录的某项数据 始终保持一致时，则定义类属性。
* 实例属性 要求 每个对象 为其 **单独开辟一份内存空间** 来记录数据，而 **类属性** 为全类所共有 ，**仅占用一份内存**，**更加节省内存空间**。

```
class Person(object):
    type_name = '人类'
```

类属性只能通过类对象修改，不能通过实例对象修改，如果通过实例对象修改类属性，表示的是创建了一个实例属性。

## 四、类函数和静态函数

### 1、类函数

需要用装饰器 `@classmethod`来标识其为类函数，对于类函数，**第一个参数必须是类（当前类）**，一般以 `cls`作为第一个参数。但是：也可以命名其他的。一般习惯上都用cls。

```
class Person(object):
    type_name = '人类'

    @classmethod
    def get_tooth(cls):
        return cls.type_name 
```


### 2、静态函数

需要通过装饰器 `@staticmethod`来进行修饰，**静态方法既不需要传递类对象也不需要传递实例对象（形参没有self/cls）**。静态方法 也能够通过 **实例对象** 和 **类对象** 去访问。


特点：

* 当方法中 **既不需要使用实例对象**(如实例对象，实例属性)，**也不需要使用类对象** (如类属性、类方法、创建实例等)时，定义静态方法
* **取消不需要的参数传递**，有利于 **减少不必要的内存占用和性能消耗**
